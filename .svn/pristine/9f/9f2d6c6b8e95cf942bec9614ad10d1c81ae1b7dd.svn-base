<div  ng-init="init();" ng-controller="vnVisionAppointmentsCalendarController">
	<vn-css vn-id="vncalendar" vn-css-file="apps/visionappointments/calendar/vncalendar.css"></vn-css>
	<div class="slider-container" ng-click="handleSliderContainerClick($event);">
		<div class="slider">
		</div>
		<div ng-repeat="(date, owners) in calendar" class="slider-date" ng-class="( $index % 5 == 0 && $index > 0) ? 'highlight' : ''">
			<div>{{ date | date:'dd' }}</div>
			<div>{{ date | date:'MMM' }}</div>
		</div>
	</div>
	<div class="calendar-scroller">
		<vn-scroll 
            vn-class-selector="calendar-scroller"
            vn-x-scroll="true"
            vn-watch="screens.VN_APP__CALENDAR"
            vn-top-offset="90"
            vn-use-zoom-version="false"
            vn-on-created-callback="handleResize()">
			<div class="calendar">
				<div ng-repeat="(date, owners) in calendar" class="date">
					<div class="date-title" ng-click="handleDateClick(date, $event)">
						<div class="day-label">{{ date | date:'EEEE' }}</div>
						<div>{{ date | date:'dd-MMM-yyyy' }}</div>
					</div>
					<div ng-repeat="(owner, timegroups) in owners" class="owner">
						<div class="title">{{ owner }}</div>
						<div ng-repeat="(timegroup, times) in timegroups" class="timegroup">
							<div 
								 ng-repeat="time in times" 
								 ng-click="handleSlotClick( this );" 
								 style="border-top-color:{{ time.color }}"
								 class="{{ time.id }}"
								 ng-class="( time.label == '00:00' || time.status != 'AVAILABLE' ) ? 'time hiddenINPS' : 'time'" >
								<div class="time-label">{{ time.label }}</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</vn-scroll>
	</div>
</div>

