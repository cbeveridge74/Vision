angular.module('vnNavigationModule', [],function () {})
.factory('vnNavigationFactory',  function( $rootScope, $timeout, vnAppManagementFactory ){
	var factory = {};

	$rootScope.screens = {};
	$rootScope.screens[ "VN_LOGIN" ] = true;

  	factory.switchScreens = function( to ){
  		angular.forEach( $rootScope.screens, function( value, index ){
			$rootScope.screens[ index ] = false;
		});
		$timeout( function(){
			$rootScope.screens[to] = true;
			var appName = to.split( '__' );
			if( appName != null ){
				$rootScope.screens[appName[0]] = true;
				var app = vnAppManagementFactory.getApp( appName[0] );
				if( app != null ){
					$rootScope.currentapp = app;	
				}
				
			}
		}, 1, true );
	 }; 



	return factory;
});
