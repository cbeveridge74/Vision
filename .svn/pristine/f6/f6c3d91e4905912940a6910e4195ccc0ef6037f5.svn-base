angular.module('vnAppManagementModule', [],function () {})
.factory('vnAppManagementFactory', function( $rootScope ){
	var factory = {};
	var registeredApps = {};

	factory.registerApp = function( app ){
		registeredApps[ app.id ] = app;
		if( $rootScope.screens == null ){
			$rootScope.screens = {};
		}
		angular.forEach( app.screens, function( value, index ){
			$rootScope.screens[value] = false;
			var app = value.split( '__' );
			if( app != null ){
				$rootScope.screens[app[0]] = false;
			}
		});
		
	};

	factory.deregisterApp = function( app ){
		delete registeredApps[ app.id ];
	};

	factory.getRegisteredApps = function(){
		return registeredApps;
	};

	return factory;
});